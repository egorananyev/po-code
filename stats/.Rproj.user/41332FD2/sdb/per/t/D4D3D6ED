{
    "contents" : "---\ntitle: \"PO Indiv\"\nauthor: \"Egor Ananyev\"\ndate: \"16 October 2015\"\noutput: html_document\n---\n\n# Loading the data\n```{r}\nlibrary(plyr)\nlibrary(ggplot2)\n#library('R.matlab')\n# dataDir <- '~/Dropbox/Projects/po/po-data/'\ndataDir <- 'C:/Users/Egor/Dropbox/Projects/po/po-data/'\ninFileName = 'po-cond01_s1018_d0_2015-12-02_102653'\nws = read.csv(paste(dataDir,inFileName,'.csv',sep=''))\ninColNames = read.csv(paste(dataDir,inFileName,'_colNames.csv',sep=''),\n                      header=F)\ncolnames(ws) <- t(inColNames)\nws$contr <- round(ws$maxContr,3)\nws$contr2 <- round(ws$maxContr,2)\nunique(ws$contr)\n# display the number of unique instances of contrast:\ntable(ws$contr)\n# count the number of hits and misses\nws$unSeen[ws$respSubjVis==1] <- 'unseen'\nws$unSeen[ws$respSubjVis>=2] <- 'seen'\n# converting to factor:\nws$curStairc <- as.factor(ws$curStairc)\n```\n\n# Quality control\n```{r}\n###############################################################################\n## Number of seen/unseen trials for dif contrasts:\nsumUnSeen <- ddply(ws, .(unSeen,contr), summarise, unSeenCount=length(curStairc))\n## Negatives:\n# false positivies (reported seen with zero contrast) and true negatives (unseen):\nsumUnSeen[sumUnSeen$contr==0,]\n## Positives\n# unseen positives:\nsumUnSeen[sumUnSeen$contr>0 & sumUnSeen$unSeen=='unseen',]\n# seen positives (with 2 decimals):\n#sumUnSeen2 <- ddply(ws, .(unSeen,contr2), summarise, unSeenCount=length(curStairc))\nsumUnSeen[sumUnSeen$contr>0 & sumUnSeen$unSeen=='seen',]\n\n###############################################################################\n## Number of trials in each staircase (should be about equivalent across conds):\ntable(ws$curStairc)\n# The number of trials should be balanced across primed vs. unprimed locations\n# for the different levels of singleton contrast (pop-out salience):\nddply(ws[ws$contr>0,], .(singlCont, odtLoc), summarise, numTrials=length(curStairc))\n```\n\n# Visibility scores\n```{r, fig.width=10}\nws$xpos <- 5*(ws$block-1)+as.numeric(ws$curStairc)\nggplot(data=ws, aes(x=xpos, y=contr, color=curStairc)) + geom_line() +\n  geom_point(colour='black', size=3) + geom_point(aes(colour=factor(respSubjVis))) +\n  theme_bw() + theme(legend.position='none')\n```\n\n# Accuracy on ODT\n```{r, fig.width=10}\nws$correct <- 0\nws$correct[ws$respOdt==1 & ws$odtOri==0] <- 1 #left\nws$correct[ws$respOdt==2 & ws$odtOri==1] <- 1 #right\n# The number of right and left responses (i.e., is there a strong bias?)\n# 1 = left; 2 = right\n( ddply(ws, .(respOdt), summarise, numofResp=length(respOdt)) )\n# Accuracy as a fn of ODT location and tilt:\nsumAccLoc <- ddply(ws, .(odtID), summarise, accLoc=mean(correct), \n                   numTrials=length(correct), numPrim=sum(odtLoc==0)/length(odtLoc))\n(sumAccLoc)\nsumAccTilt <- ddply(ws, .(odtTiltOffset), summarise, accLoc=mean(correct),\n                   numTrials=length(correct), numPrim=sum(odtLoc==0)/length(odtLoc))\n(sumAccTilt)\n# Showing the accuracy for each level of subjective visibility (no contrast matching)\n# The difference between 6 (opposite ODT location) and 0 (same location) is the\n# pop-out benefit:\nsumAccPrim <- ddply(ws[ws$odtLoc==0 & ws$contr2>0.009,], .(respSubjVis,singlCont),\n                summarise, accPrim=mean(correct), numTrialsPrim=length(correct))\nsumAccUnpr <- ddply(ws[ws$odtLoc!=0 & ws$contr2>0.009,], .(respSubjVis,singlCont),\n                summarise, accUnpr=mean(correct), numTrialsUnpr=length(correct))\nsumAcc <- merge(sumAccPrim, sumAccUnpr, by=c('respSubjVis','singlCont'))\nsumAcc$da <- sumAcc$accPrim - sumAcc$accUnpr\nsumAcc$singlCont <- as.factor(sumAcc$singlCont)\nsumAcc$respSubjVis <- as.factor(sumAcc$respSubjVis)\n# Plotting the benefit:\nggplot(data=sumAcc, aes(x=singlCont, y=da, fill=singlCont)) + \n  geom_bar(stat='identity',position='dodge') + facet_grid(.~respSubjVis) + \n  scale_fill_brewer() + \n  labs(x='Pop-out salience', y='Priming accuracy benefit (%)', fill='Pop-out salience',\n    title='Priming benefit on ODT performance')\n# A long table:\nsumAccAll <- ddply(ws[ws$contr2>0.009,], .(respSubjVis,singlCont,odtLoc),\n                   summarise, acc=mean(correct), numTrials=length(correct))\nsumAccAll$singlCont <- as.factor(sumAccAll$singlCont)\nsumAccAll$respSubjVis <- as.factor(sumAccAll$respSubjVis)\n# Visualizing the relative frequency of types of trials:\nggplot(data=sumAccAll, aes(x=singlCont, y=numTrials, fill=singlCont)) + \n  geom_bar(stat='identity') + facet_grid(.~respSubjVis) + scale_fill_brewer() +\n  theme_bw() + labs(x='Pop-out salience', y='Number of trials', fill='Pop-out salience',\n    title='Frequency of trials per visibility')\n# Plotting the accuracies separately:\nggplot(data=sumAccAll, aes(x=singlCont, y=acc, group=factor(odtLoc), \n                           fill=factor(odtLoc))) + \n  geom_bar(stat='identity', width=0.5, position='dodge') + \n  facet_grid(.~respSubjVis) + theme_bw() + \n  labs(x='Pop-out salience/Visibility', y='Accuracy on ODT', fill='Unprimed',\n    title='Accuracy per pop-out salience & visibility')\n# Accurate and inaccurate trials\nsumAccTrials <- ddply(ws[ws$contr2>0,], .(respSubjVis,singlCont,odtLoc,correct),\n                   summarise, numTrials=length(correct))\nsumAccTrials$singlCont <- as.factor(sumAccTrials$singlCont)\nsumAccTrials$respSubjVis <- as.factor(sumAccTrials$respSubjVis)\nsumAccTrials$odtLoc <- as.factor(sumAccTrials$odtLoc)\nsumAccTrials$correct <- as.factor(sumAccTrials$correct)\n# Plotting frequencies of correct/incorrect trials for each visibility score:\nggplot(data=sumAccTrials, aes(x=singlCont, y=numTrials, group=factor(correct), \n                           fill=factor(correct))) + \n  geom_bar(stat='identity', width=0.5, position='dodge') + \n  facet_grid(.~respSubjVis) + scale_fill_manual(values=c(\"#CC6666\", \"#9999CC\")) +\n  theme_bw() + labs(x='Pop-out salience/Visibility', y='Accuracy on ODT',fill='Correct',\n    title='Correct/incorrect trials per pop-out salience & visibility')\n```",
    "created" : 1448507420407.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1326241709",
    "id" : "D4D3D6ED",
    "lastKnownWriteTime" : 1449025651,
    "path" : "C:/Users/Egor/Dropbox/Projects/po/po-code/stats/po-indiv.Rmd",
    "project_path" : "po-indiv.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}